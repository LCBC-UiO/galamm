<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Control values for galamm fit — galamm_control • galamm</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Control values for galamm fit — galamm_control"><meta name="description" content="This function can be called for controling the optimization
procedure used when fitting GALAMMs using galamm."><meta property="og:description" content="This function can be called for controling the optimization
procedure used when fitting GALAMMs using galamm."><meta property="og:image" content="https://lcbc-uio.github.io/galamm/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">galamm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/galamm.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/lmm_factor.html">Linear Mixed Models with Factor Structures</a></li>
    <li><a class="dropdown-item" href="../articles/glmm_factor.html">Generalized Linear Mixed Models with Factor Structures</a></li>
    <li><a class="dropdown-item" href="../articles/lmm_heteroscedastic.html">Heteroscedastic Linear Mixed Models</a></li>
    <li><a class="dropdown-item" href="../articles/latent_observed_interaction.html">Interactions Between Latent and Observed Covariates</a></li>
    <li><a class="dropdown-item" href="../articles/mixed_response.html">Models with Mixed Response Types</a></li>
    <li><a class="dropdown-item" href="../articles/semiparametric.html">Semiparametric Latent Variable Modeling</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced topics</h6></li>
    <li><a class="dropdown-item" href="../articles/scaling.html">Computational Scaling</a></li>
    <li><a class="dropdown-item" href="../articles/optimization.html">Optimization</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LCBC-UiO/galamm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Control values for galamm fit</h1>
      <small class="dont-index">Source: <a href="https://github.com/LCBC-UiO/galamm/blob/main/R/galamm_control.R" class="external-link"><code>R/galamm_control.R</code></a></small>
      <div class="d-none name"><code>galamm_control.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function can be called for controling the optimization
procedure used when fitting GALAMMs using <code><a href="galamm.html">galamm</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">galamm_control</span><span class="op">(</span></span>
<span>  optim_control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"L-BFGS-B"</span>, <span class="st">"Nelder-Mead"</span><span class="op">)</span>,</span>
<span>  maxit_conditional_modes <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  pirls_tol_abs <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  reduced_hessian <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-optim-control">optim_control<a class="anchor" aria-label="anchor" href="#arg-optim-control"></a></dt>
<dd><p>List containing optimization parameters. If <code>method
  = "L-BFGS-B"</code> it is passed on to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">stats::optim</a></code>'s <code>control</code>
argument and if <code>method = "Nelder-Mead"</code>, it is passed on to
<code><a href="https://rdrr.io/pkg/lme4/man/Nelder_Mead.html" class="external-link">lme4::Nelder_Mead</a></code>'s control argument. If not otherwise specified,
and <code>method = "L-BFGS-B"</code>, the following arguments are set to
non-default values: <code>fnscale = -1</code> and <code>lmm = 20</code>.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character string defining the algorithm to be used for
maximizing the marginal log-likelihood. The default is <code>"L-BFGS-B"</code>,
which uses the limited memory Broyden-Fletcher-Goldfarb-Shanno algorithm
with box constrained as implemented in <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">stats::optim</a></code>. The other
options is <code>"Nelder-Mead"</code>, which calls the Nelder-Mead algorithm with
box constraints implemented in <code><a href="https://rdrr.io/pkg/lme4/man/Nelder_Mead.html" class="external-link">lme4::Nelder_Mead</a></code>. The argument is
case sensitive.</p></dd>


<dt id="arg-maxit-conditional-modes">maxit_conditional_modes<a class="anchor" aria-label="anchor" href="#arg-maxit-conditional-modes"></a></dt>
<dd><p>Maximum number of iterations in penalized
iteratively reweighted least squares algorithm. Ignored if <code>family =
  "gaussian"</code> for all observations, since then a single step gives the exact
answer.</p></dd>


<dt id="arg-pirls-tol-abs">pirls_tol_abs<a class="anchor" aria-label="anchor" href="#arg-pirls-tol-abs"></a></dt>
<dd><p>Absolute convergence criterion for penalized
iteratively reweighted least squares algorithm. Defaults to 0.01, which
means that when the reduction in marginal likelihood between two iterations
is below 0.01, the iterations stop.</p></dd>


<dt id="arg-reduced-hessian">reduced_hessian<a class="anchor" aria-label="anchor" href="#arg-reduced-hessian"></a></dt>
<dd><p>Logical value. Defaults to <code>TRUE</code>, which means
that the full Hessian matrix at the maximum marginal likelihood solution is
computed. If <code>FALSE</code>, a reduced Hessian matrix with second order
partial derivatives with respect to fixed regression coefficients and
factor loadings. The latter can help is the full Hessian is not positive
definite.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Object of class <code>galamm_control</code>, which typically will be
provided as an argument to <code><a href="galamm.html">galamm</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Bates DM, Mächler M, Bolker B, Walker S (2015).
“Fitting Linear Mixed-Effects Models Using Lme4.”
<em>Journal of Statistical Software</em>, <b>67</b>(1), 1–48.
ISSN 1548-7660, <a href="https://doi.org/10.18637/jss.v067.i01" class="external-link">doi:10.18637/jss.v067.i01</a>
.</p>
<p>BROYDEN CG (1970).
“The Convergence of a Class of Double-rank Minimization Algorithms 1. General Considerations.”
<em>IMA Journal of Applied Mathematics</em>, <b>6</b>(1), 76–90.
ISSN 0272-4960, <a href="https://doi.org/10.1093/imamat/6.1.76" class="external-link">doi:10.1093/imamat/6.1.76</a>
.</p>
<p>Byrd RH, Lu P, Nocedal J, Zhu C (1995).
“A Limited Memory Algorithm for Bound Constrained Optimization.”
<em>SIAM Journal on Scientific Computing</em>, <b>16</b>(5), 1190–1208.
ISSN 1064-8275, <a href="https://doi.org/10.1137/0916069" class="external-link">doi:10.1137/0916069</a>
.</p>
<p>Fletcher R (1970).
“A New Approach to Variable Metric Algorithms.”
<em>The Computer Journal</em>, <b>13</b>(3), 317–322.
ISSN 0010-4620, <a href="https://doi.org/10.1093/comjnl/13.3.317" class="external-link">doi:10.1093/comjnl/13.3.317</a>
.</p>
<p>Goldfarb D (1970).
“A Family of Variable-Metric Methods Derived by Variational Means.”
<em>Mathematics of Computation</em>, <b>24</b>(109), 23–26.
ISSN 0025-5718, 1088-6842, <a href="https://doi.org/10.1090/S0025-5718-1970-0258249-6" class="external-link">doi:10.1090/S0025-5718-1970-0258249-6</a>
.</p>
<p>Nelder JA, Mead R (1965).
“A Simplex Method for Function Minimization.”
<em>The Computer Journal</em>, <b>7</b>(4), 308–313.
ISSN 0010-4620, <a href="https://doi.org/10.1093/comjnl/7.4.308" class="external-link">doi:10.1093/comjnl/7.4.308</a>
.</p>
<p>Shanno DF (1970).
“Conditioning of Quasi-Newton Methods for Function Minimization.”
<em>Mathematics of Computation</em>, <b>24</b>(111), 647–656.
ISSN 0025-5718, 1088-6842, <a href="https://doi.org/10.1090/S0025-5718-1970-0274029-X" class="external-link">doi:10.1090/S0025-5718-1970-0274029-X</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="galamm.html">galamm()</a></code></p>
<p>Other optimization functions:
<code><a href="extract_optim_parameters.galamm.html">extract_optim_parameters.galamm</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Define control object with quite a high degree of verbosity (trace = 6)</span></span></span>
<span class="r-in"><span><span class="co"># and using the last 20 BFGS updates to estimate the Hessian in L-BFGS-B.</span></span></span>
<span class="r-in"><span><span class="va">control</span> <span class="op">&lt;-</span> <span class="fu">galamm_control</span><span class="op">(</span>optim_control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>trace <span class="op">=</span> <span class="fl">6</span>, lmm <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Øystein Sørensen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

